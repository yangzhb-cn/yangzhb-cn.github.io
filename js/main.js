function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n,r,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return o=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _regenerator(){var m,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function r(e,t,n,r){var o,a,i,c,s,l,d,u,f,t=t&&t.prototype instanceof h?t:h,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(o=e,a=n,d=r||[],u=!1,f={p:l=0,n:0,v:m,a:g,f:g.bind(m,4),d:function(e,t){return i=e,c=0,s=m,f.n=t,p}},function(e,t,n){if(1<l)throw TypeError("Generator is already running");for(u&&1===t&&g(t,n),c=t,s=n;(y=c<2?m:s)||!u;){i||(c?c<3?(1<c&&(f.n=-1),g(c,s)):f.n=s:f.v=s);try{if(l=2,i){if(y=i[e=c?e:"next"]){if(!(y=y.call(i,s)))throw TypeError("iterator result is not an object");if(!y.done)return y;s=y.value,c<2&&(c=0)}else 1===c&&(y=i.return)&&y.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+e+"' method"),c=1);i=m}else if((y=(u=f.n<0)?s:o.call(a,f))!==p)break}catch(e){i=m,c=1,s=e}finally{l=1}}return{value:y,done:u}}),!0),t;function g(e,t){for(c=e,s=t,y=0;!u&&l&&!n&&y<d.length;y++){var n,r=d[y],o=f.p,a=r[2];3<e?(n=a===t)&&(s=r[(c=r[4])?5:c=3],r[4]=r[5]=m):r[0]<=o&&((n=e<2&&o<r[1])?(c=0,f.v=t,f.n=r[1]):o<a&&(n=e<3||r[0]>t||a<t)&&(r[4]=e,r[5]=t,f.n=a,c=0))}if(n||1<e)return p;throw u=!0,t}}var p={};function h(){}function o(){}function a(){}var y=Object.getPrototypeOf,e=[][t]?y(y([][t]())):(_regeneratorDefine2(y={},t,function(){return this}),y),i=a.prototype=h.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(i),e}return _regeneratorDefine2(i,"constructor",o.prototype=a),_regeneratorDefine2(a,"constructor",o),_regeneratorDefine2(a,n,o.displayName="GeneratorFunction"),_regeneratorDefine2(i),_regeneratorDefine2(i,n,"Generator"),_regeneratorDefine2(i,t,function(){return this}),_regeneratorDefine2(i,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:r,m:c}})()}function _regeneratorDefine2(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(_regeneratorDefine2=function(e,t,n,r){function o(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}document.addEventListener("DOMContentLoaded",function(){function u(o,n,e){function r(e,t){return e=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?(e-1)*t:(e-2)*t+s,n.slice(e,e+t).map(m)}function a(e){var t,n,r;l&&(t=o.parentNode,f&&(t.style.visibility="visible"),0===o.offsetHeight)&&(t.style.visibility="hidden",f=!0),e.updated.length&&e.mounted.length&&!e.isResize&&(btf.loadLightbox(o.querySelectorAll("img:not(.medium-zoom-image)")),u.getGroups().length===d?(btf.setLoading.remove(o),l||u.off("renderComplete",a)):i&&(btf.setLoading.remove(o),n=o,(r=document.createElement("button")).innerHTML="".concat(GLOBAL_CONFIG.infinitegrid.buttonText,'<i class="fa-solid fa-arrow-down"></i>'),r.addEventListener("click",function(){r.remove(),btf.setLoading.add(n),p(u.getGroups().length+1,c)},{once:!0}),n.insertAdjacentElement("afterend",r)))}var i=e.isButton,c=e.limit,s=e.firstLimit,l=e.tabs,e=n.length,d=Math.ceil((e-s)/c+1),u=new InfiniteGrid.JustifiedInfiniteGrid(o,{gap:5,isConstantSize:!0,sizeRange:[150,600],useTransform:!0}),f=!1,g=function(e){return e&&e.replace(/"/g,"&quot;")||""},m=function(e){var t=e.alt?'alt="'.concat(g(e.alt),'"'):"",n=e.title?'title="'.concat(g(e.title),'"'):"";return'<div class="item">\n        <img src="'.concat(e.url,'" data-grid-maintained-target="true" ').concat(t," ").concat(n," />\n      </div>")},p=function(e,t,n){u.append(r(e,t,n),e)},t=btf.debounce(function(e){e=(+e.groupKey||0)+1;1===e?p(e,s,!0):p(e,c),e===d&&u.off("requestAppend",t)},300);btf.setLoading.add(o),u.on("renderComplete",a),i?p(1,s,!0):(u.on("requestAppend",t),u.renderItems()),btf.addGlobalFn("pjaxSendOnce",function(){return u.destroy()})}function a(){function n(){return document.body.scrollHeight<=t&&(o.classList.add("rightside-show"),!0)}var r,e,o=document.getElementById("rightside"),t=window.innerHeight+56,a=0,i=document.getElementById("page-header"),c="undefined"!=typeof chatBtn,s=GLOBAL_CONFIG.percent.rightside;n()||(r="",e=btf.throttle(function(){var e=window.scrollY||document.documentElement.scrollTop,t=a<e;56<(a=e)?(""===r&&(i.classList.add("nav-fixed"),o.classList.add("rightside-show")),t?"down"!==r&&(i.classList.remove("nav-visible"),c&&window.chatBtn.hide(),r="down"):"up"!==r&&(i.classList.add("nav-visible"),c&&window.chatBtn.show(),r="up")):(r="",0===e&&i.classList.remove("nav-fixed","nav-visible"),o.classList.remove("rightside-show")),s&&v(e),n()},300),btf.addEventListenerPjax(window,"scroll",e,{passive:!0}))}function t(n){var r=(window.globalFn||{}).themeChange||{};r&&Object.keys(r).forEach(function(e){var t=r[e];["disqus","disqusjs"].includes(e)?setTimeout(function(){return t(n)},300):t(n)})}function i(e){e.forEach(function(e){e.textContent=btf.diffDate(e.getAttribute("datetime"),!0),e.style.display="inline"})}function c(){m(),p(),b(document.querySelectorAll("#article-container .gallery-container")),h(),L(),_(),E(),A()}function e(){var e,t,n,r,o;f(!0),s.classList.add("show"),(o=document.getElementById("recent-posts"))&&o.classList.contains("masonry")&&(o=function(){var e=new InfiniteGrid.MasonryInfiniteGrid(".recent-post-items",{gap:{horizontal:10,vertical:20},useTransform:!0,useResizeObserver:!0});e.renderItems(),btf.addGlobalFn("pjaxCompleteOnce",function(){e.destroy()},"removeJustifiedIndexPostUI")},"function"==typeof InfiniteGrid?o():btf.getScript("".concat(GLOBAL_CONFIG.infinitegrid.js)).then(o)),"post"===GLOBAL_CONFIG_SITE.pageType?((o=document.getElementById("post-outdate-notice"))&&(r=(e=JSON.parse(o.getAttribute("data"))).limitDay,t=e.messagePrev,n=e.messageNext,r<=(r=btf.diffDate(e.postUpdate)))&&(o.textContent="".concat(t," ").concat(r," ").concat(n),o.hidden=!1),GLOBAL_CONFIG.relativeDate.post&&i(document.querySelectorAll("#post-meta time"))):(GLOBAL_CONFIG.relativeDate.homepage&&i(document.querySelectorAll("#recent-posts time")),GLOBAL_CONFIG.runtime&&(e=document.getElementById("runtimeshow"))&&(t=e.getAttribute("data-publishDate"),e.textContent="".concat(btf.diffDate(t)," ").concat(GLOBAL_CONFIG.runtime)),(r=document.getElementById("last-push-date"))&&(n=r.getAttribute("data-lastPushDate"),r.textContent=btf.diffDate(n,!0)),(o=document.querySelector("#aside-cat-list.expandBtn"))&&btf.addEventListenerPjax(o,"click",function(e){var t=e.target;"I"===t.nodeName&&(e.preventDefault(),t.parentNode.classList.toggle("expand"))},!0)),"home"===GLOBAL_CONFIG_SITE.pageType&&(o=document.getElementById("scroll-down"))&&btf.addEventListenerPjax(o,"click",function(){btf.scrollToDest(document.getElementById("content-inner").offsetTop,300)}),a(),c(),"shuoshuo"!==GLOBAL_CONFIG_SITE.pageType&&btf.switchComments(document),(o=document.getElementById("toggle-menu"))&&btf.addEventListenerPjax(o,"click",function(){g.open()})}var r,s,o,l,n,d=!1,f=function(e){function t(e){return Array.from(e).reduce(function(e,t){return e+t.offsetWidth},0)}e&&(e=t(document.querySelector("#blog-info > a").children),n=t(document.getElementById("menus").children),r=e+n,s=document.getElementById("nav"));var n,e=window.innerWidth<=768||r>s.offsetWidth-120;s.classList.toggle("hide-menu",e)},g={open:function(){btf.overflowPaddingR.add(),btf.animateIn(document.getElementById("menu-mask"),"to_show 0.5s"),document.getElementById("sidebar-menus").classList.add("open"),d=!0},close:function(){btf.overflowPaddingR.remove(),btf.animateOut(document.getElementById("menu-mask"),"to_hide 0.5s"),document.getElementById("sidebar-menus").classList.remove("open"),d=!1}},m=function(){var e,n,o,t,r,a,i,c,s,l,d,u,f,g,m,p,h,y,b,v,L,w=GLOBAL_CONFIG.highlight;w&&(e=w.highlightCopy,n=w.highlightLang,o=w.highlightHeightLimit,t=w.highlightFullpage,r=w.plugin,a=GLOBAL_CONFIG_SITE.isHighlightShrink,i=e||n||void 0!==a||t||w.highlightMacStyle,s="prismjs"===r,w=(c="highlight.js"!==r)?Array.from(document.querySelectorAll('code[class*="language-"]')).map(function(e){return e.parentElement}):document.querySelectorAll("figure.highlight"),i||o)&&w.length&&(l=!0===a?"closed":"",d=void 0!==a?'<i class="fas fa-angle-down expand"></i>':"",u=e?'<i class="fas fa-paste copy-button"></i>':"",f=t?'<i class="fa-solid fa-up-right-and-down-left-from-center fullpage-button"></i>':"",g=function(e,t){var n,r,o,a;void 0!==GLOBAL_CONFIG.Snackbar?btf.snackbarShow(t):((n=document.createElement("div")).className="copy-notice",n.textContent=t,document.body.appendChild(n),t=e.getBoundingClientRect(),e=window.pageYOffset||document.documentElement.scrollTop,o=window.pageXOffset||document.documentElement.scrollLeft,r=n.offsetWidth/2,o=t.left+o+t.width/2,r=Math.max(10+r,Math.min(window.innerWidth-r-10,o)),o=t.top+e-40,a=t.top<60||o<10?t.top+e+t.height+10:o,n.style.cssText="\n      top: ".concat(a+10,"px;\n      left: ").concat(r,"px;\n      transform: translateX(-50%);\n      opacity: 0;\n      transition: opacity 0.3s ease, top 0.3s ease;\n    "),requestAnimationFrame(function(){n.style.opacity="1",n.style.top="".concat(a,"px")}),setTimeout(function(){n.style.opacity="0",n.style.top="".concat(a+10,"px"),setTimeout(function(){null!=n&&n.remove()},300)},800))},m=(()=>{var n=_asyncToGenerator(_regenerator().m(function e(t,n){var r;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(t);case 1:g(n,GLOBAL_CONFIG.copy.success),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to copy: ",r),g(n,GLOBAL_CONFIG.copy.noSupport);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(e,t){return n.apply(this,arguments)}})(),p=function(e,t){var e=e.parentNode,n=(e.classList.add("copy-true"),c?"pre code":"table .code pre"),n=e.querySelector(n);n&&(m(n.innerText,t),e.classList.remove("copy-true"))},h=function(e){return e.classList.toggle("closed")},y=function(e,t){e=e.closest("figure.highlight").classList.toggle("code-fullpage");document.body.style.overflow=e?"hidden":"",t.classList.toggle("fa-down-left-and-up-right-to-center",e),t.classList.toggle("fa-up-right-and-down-left-from-center",!e)},b=function(e){var t=e.target.classList,n=e.currentTarget;t.contains("expand")?h(n):t.contains("copy-button")?p(n,e.target):t.contains("fullpage-button")&&y(n,e.target)},v=function(e){return e.currentTarget.classList.toggle("expand-done")},L=function(e,t){var n,r=document.createDocumentFragment();i&&((n=document.createElement("div")).className="highlight-tools ".concat(l),n.innerHTML='<div class="macStyle"><div class="mac-close"></div><div class="mac-minimize"></div><div class="mac-maximize"></div></div>'+d+e+u+f,btf.addEventListenerPjax(n,"click",b),r.appendChild(n)),o&&(e=>{if(0<e.offsetHeight)return e.offsetHeight;for(var t=new Map,n=e;n!==document.body&&null!=n;)"none"===window.getComputedStyle(n).display&&t.set(n,n.getAttribute("style")||""),n=n.parentNode;var r="visibility: hidden !important; display: block !important;",e=(t.forEach(function(e,t){t.setAttribute("style",e?e+";"+r:r)}),e.offsetHeight);return t.forEach(function(e,t){""===e?t.removeAttribute("style"):t.setAttribute("style",e)}),e})(t)>o+30&&((e=document.createElement("div")).className="code-expand-btn",e.innerHTML='<i class="fas fa-angle-double-down"></i>',btf.addEventListenerPjax(e,"click",v),r.appendChild(e)),c?t.parentNode.insertBefore(r,t):t.insertBefore(r,t.firstChild)},w.forEach(function(e){var t="";c&&btf.wrap(e,"figure",{class:"highlight ".concat(s?"prismjs":"default")}),n?(c?t=s?e.getAttribute("data-language")||"Code":e.querySelector("code").getAttribute("class").replace("language-",""):"plain"!==(t=e.getAttribute("class").split(" ")[1])&&void 0!==t||(t="Code"),L('<div class="code-lang">'.concat(t,"</div>"),e)):L("",e)}))},p=function(){GLOBAL_CONFIG.isPhotoFigcaption&&document.querySelectorAll("#article-container img").forEach(function(e){var t,n=e.title||e.alt;n&&((t=document.createElement("div")).className="img-alt text-center",t.textContent=n,e.insertAdjacentElement("afterend",t))})},h=function(){btf.loadLightbox(document.querySelectorAll("#article-container img:not(.no-lightbox)"))},y=(()=>{var t=_asyncToGenerator(_regenerator().m(function e(t){var n;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(t);case 1:return n=e.v,e.n=2,n.json();case 2:return e.a(2,e.v);case 3:return e.p=3,n=e.v,console.error("Failed to fetch URL:",n),e.a(2,[])}},e,null,[[0,3]])}));return function(e){return t.apply(this,arguments)}})(),b=(()=>{var t=_asyncToGenerator(_regenerator().m(function e(l){var d,t,n=arguments;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(d=1<n.length&&void 0!==n[1]&&n[1],l.length){e.n=1;break}return e.a(2);case 1:if(t=(()=>{var e=_asyncToGenerator(_regenerator().m(function e(){var t,n,r,o,a,i,c,s;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:t=_createForOfIteratorHelper(l),e.p=1,t.s();case 2:if((c=t.n()).done)e.n=10;else{if(n=c.value,btf.isHidden(n)||n.classList.contains("loaded"))return e.a(3,9);e.n=3}break;case 3:if(r={isButton:"true"===n.getAttribute("data-button"),limit:parseInt(n.getAttribute("data-limit"),10),firstLimit:parseInt(n.getAttribute("data-first"),10),tabs:d},o=n.firstElementChild,a=o.textContent,o.textContent="",n.classList.add("loaded"),e.p=4,"url"===n.getAttribute("data-type"))return e.n=5,y(a);e.n=6;break;case 5:i=e.v,e.n=7;break;case 6:i=JSON.parse(a);case 7:u(o,i,r),e.n=9;break;case 8:e.p=8,c=e.v,console.error("Gallery data parsing failed:",c);case 9:e.n=2;break;case 10:e.n=12;break;case 11:e.p=11,s=e.v,t.e(s);case 12:return e.p=12,t.f(),e.f(12);case 13:return e.a(2)}},e,null,[[4,8],[1,11,12,13]])}));return function(){return e.apply(this,arguments)}})(),"function"==typeof InfiniteGrid)return e.n=2,t();e.n=3;break;case 2:e.n=5;break;case 3:return e.n=4,btf.getScript(GLOBAL_CONFIG.infinitegrid.js);case 4:return e.n=5,t();case 5:return e.a(2)}},e)}));return function(e){return t.apply(this,arguments)}})(),v=function(e){var e=btf.getScrollPercent(e,document.body),t=document.getElementById("go-up");e<95?(t.classList.add("show-percent"),t.querySelector(".scroll-percent").textContent=e):t.classList.remove("show-percent")},L=function(){var s,n,l,d,u,f,e,g,m,t,p=GLOBAL_CONFIG_SITE.isToc,h=GLOBAL_CONFIG.isAnchor,y=document.getElementById("article-container");y&&(p||h)&&(p&&(n=document.getElementById("card-toc"),d=(l=n.querySelector(".toc-content")).querySelectorAll(".toc-link"),u=n.querySelector(".toc-percentage"),f=l.classList.contains("is-expand"),btf.addEventListenerPjax(l,"click",function(e){var t=e.target.closest(".toc-link");t&&(e.preventDefault(),btf.scrollToDest(btf.getEleTop(document.getElementById(decodeURI(t.getAttribute("href")).replace("#",""))),300),window.innerWidth<900)&&n.classList.remove("open")}),s=function(e){var t=l.clientHeight,n=e.offsetTop,r=l.scrollTop,n=n-r,t=(t-e.clientHeight)/2;n!=t&&(l.scrollTop=r+(n-t))},l.style.display="block"),e=y.querySelectorAll("h1,h2,h3,h4,h5,h6"),g="",m=[],(t=function(){m=Array.from(e).map(function(e){return{ele:e,top:btf.getEleTop(e),id:e.id}})})(),btf.addEventListenerPjax(window,"resize",btf.throttle(t,200)),t=btf.throttle(function(){var e=window.scrollY||document.documentElement.scrollTop,t=(p&&GLOBAL_CONFIG.percent.toc&&(u.textContent=btf.getScrollPercent(e,y)),e);if(0!==t){for(var n="",r="",o=0;o<m.length;o++){var a=m[o];if(!(t>a.top-80))break;n=a.id?"#"+encodeURI(a.id):"",r=o}if(g!==r&&(h&&btf.updateAnchor(n),g=r,p)&&(l.querySelectorAll(".active").forEach(function(e){return e.classList.remove("active")}),n)){var i=d[r];if(i.classList.add("active"),setTimeout(function(){return s(i)},0),!f)for(var c=i.parentNode;!c.matches(".toc");)c.matches("li")&&c.classList.add("active"),c=c.parentNode}}},100),btf.addEventListenerPjax(window,"scroll",t,{passive:!0}))},w={readmode:function(){function e(){t.classList.remove("read-mode"),n.remove(),n.removeEventListener("click",e)}var t=document.body,n=document.createElement("button");t.classList.add("read-mode"),n.type="button",n.className="exit-readmode",n.innerHTML='<i class="fas fa-sign-out-alt"></i>',n.addEventListener("click",e),t.appendChild(n)},darkmode:function(){var e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";"dark"==e?(btf.activateDarkMode(),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(btf.activateLightMode(),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),btf.saveToLocal.set("theme",e,2),t(e)},"rightside-config":function(e){var t=e.firstElementChild;t.classList.contains("show")&&(t.classList.add("status"),setTimeout(function(){t.classList.remove("status")},300)),t.classList.toggle("show")},"go-up":function(){btf.scrollToDest(0,500)},"hide-aside-btn":function(){var e=document.documentElement.classList,t=e.contains("hide-aside")?"show":"hide";btf.saveToLocal.set("aside-status",t,2),e.toggle("hide-aside")},"mobile-toc-button":function(e,t){var n=document.getElementById("card-toc"),r=(n.style.transition="transform 0.3s ease-in-out",n.clientHeight),t=t.getBoundingClientRect(),o=window.innerHeight-t.bottom-30;o<r&&(n.style.transformOrigin="right ".concat(r-o-t.height/2,"px")),n.classList.toggle("open"),n.addEventListener("transitionend",function(){n.style.cssText=""},{once:!0})},"chat-btn":function(){window.chatBtnFn()},translateLink:function(){window.translateFn.translatePage()}},_=(document.getElementById("rightside").addEventListener("click",function(e){var t=e.target.closest("[id]");t&&w[t.id]&&w[t.id](e.currentTarget,t)}),function(){var e=document.querySelectorAll("#article-container table");e.length&&e.forEach(function(e){e.closest(".highlight")||btf.wrap(e,"div",{class:"table-wrap"})})}),E=function(){var e=document.querySelectorAll("#article-container .hide-button");e.length&&e.forEach(function(e){return e.addEventListener("click",function(e){e=e.currentTarget;e.classList.add("open"),b(e.nextElementSibling.querySelectorAll(".gallery-container"))},{once:!0})})},A=function(){var o,n,e=document.querySelectorAll("#article-container .tabs");e.length&&(o=function(e,n){e.forEach(function(e,t){e.classList.toggle("active",t===n)})},n=function(e){var t,n,r=e.target.closest("button");r&&!r.classList.contains("active")&&(t=_toConsumableArray(e.currentTarget.children),n=_toConsumableArray(e.currentTarget.nextElementSibling.children),r=t.indexOf(r),o(t,r),e.currentTarget.classList.remove("no-default"),o(n,r),b(n[r].querySelectorAll(".gallery-container"),!0))},e.forEach(function(e){var t;btf.addEventListenerPjax(e.firstElementChild,"click",n),btf.addEventListenerPjax(e.lastElementChild,"click",(t=e,function(e){e.target.closest("button")&&btf.scrollToDest(btf.getEleTop(t),300)}))}))};btf.addGlobalFn("pjaxComplete",e,"refreshFn"),e(),window.addEventListener("resize",function(){f(!1),d&&btf.isHidden(document.getElementById("toggle-menu"))&&g.close()}),(n=document.getElementById("menu-mask"))&&n.addEventListener("click",function(){g.close()}),(n=document.querySelector("#sidebar-menus .menus_items"))&&n.addEventListener("click",function(e){e=e.target.closest(".site-page.group");e&&e.classList.toggle("hide")}),GLOBAL_CONFIG.islazyloadPlugin&&(window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"}),btf.addGlobalFn("pjaxComplete",function(){window.lazyLoadInstance.update()},"lazyload")),void 0!==GLOBAL_CONFIG.copyright&&(n=GLOBAL_CONFIG.copyright,o=n.limitCount,l=n.languages,document.body.addEventListener("copy",function(e){e.preventDefault();var t=window.getSelection(0).toString(),n=t;return t.length>o&&(n="".concat(t,"\n\n\n").concat(l.author,"\n").concat(l.link).concat(window.location.href,"\n").concat(l.source,"\n").concat(l.info)),(e.clipboardData?e:window).clipboardData.setData("text",n)})),GLOBAL_CONFIG.autoDarkmode&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){void 0===btf.saveToLocal.get("theme")&&(e.matches?t("dark"):t("light"))}),window.addEventListener("hexo-blog-decrypt",function(e){c(),window.translateFn.translateInitialization(),Object.values(window.globalFn.encrypt).forEach(function(e){e()})})});